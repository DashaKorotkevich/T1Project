(function(){"use strict";var t={3758:function(t,e,o){o(8111),o(7588);var s=o(5130),a=o(6768);const n={class:"app"};function r(t,e,o,s,r,i){const l=(0,a.g2)("navbar"),u=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(l),(0,a.Lk)("div",n,[(0,a.bF)(u)])],64)}o(4114);const i={class:"navbar"},l={class:"navbar__btns"};function u(t,e,o,s,n,r){const u=(0,a.g2)("my-button");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",{onClick:e[0]||(e[0]=e=>t.$router.push("/"))},"VUE 3"),(0,a.Lk)("div",l,[(0,a.bF)(u,{onClick:e[1]||(e[1]=e=>t.$router.push("/posts"))},{default:(0,a.k6)((()=>e[4]||(e[4]=[(0,a.eW)("Посты")]))),_:1}),(0,a.bF)(u,{onClick:e[2]||(e[2]=e=>t.$router.push("/about")),style:{"margin-left":"20px"}},{default:(0,a.k6)((()=>e[5]||(e[5]=[(0,a.eW)("О сайте")]))),_:1}),(0,a.bF)(u,{onClick:e[3]||(e[3]=e=>t.$router.push("/store")),style:{"margin-left":"20px"}},{default:(0,a.k6)((()=>e[6]||(e[6]=[(0,a.eW)("Store")]))),_:1})])])}var c={},d=o(1241);const p=(0,d.A)(c,[["render",u]]);var h=p,m={components:{Navbar:h}};const v=(0,d.A)(m,[["render",r]]);var g=v;const f={class:"btn"};function b(t,e,o,s,n,r){return(0,a.uX)(),(0,a.CE)("button",f,[(0,a.RG)(t.$slots,"default",{},void 0,!0)])}var y={name:"my-button"};const P=(0,d.A)(y,[["render",b],["__scopeId","data-v-aeb3c5ac"]]);var k=P;const _=["value"];function C(t,e,o,s,n,r){return(0,a.uX)(),(0,a.CE)("input",{value:o.modelValue,onInput:e[0]||(e[0]=(...t)=>r.updateInput&&r.updateInput(...t)),class:"input",type:"text"},null,40,_)}var L={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};const w=(0,d.A)(L,[["render",C],["__scopeId","data-v-5c51bc7f"]]);var S=w;function V(t,e,o,n,r,i){return!0===t.show?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"dialog",onClick:e[1]||(e[1]=(0,s.D$)(((...e)=>t.hideDialog&&t.hideDialog(...e)),["stop"]))},[(0,a.Lk)("div",{onClick:e[0]||(e[0]=(0,s.D$)((()=>{}),["stop"])),class:"dialog__content"},[(0,a.RG)(t.$slots,"default",{},void 0,!0)])])):(0,a.Q3)("",!0)}var F={props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}},mounted(){}},E={name:"my-dialog",mixins:[F]};const A=(0,d.A)(E,[["render",V],["__scopeId","data-v-408c24ef"]]);var O=A,X=o(4232);const x=["value"],$=["value"];function j(t,e,o,s,n,r){return(0,a.uX)(),(0,a.CE)("select",{value:o.modelValue,onChange:e[0]||(e[0]=(...t)=>r.changeOption&&r.changeOption(...t))},[e[1]||(e[1]=(0,a.Lk)("option",{disabled:"",value:""},"выберите из списка",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.options,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.value,value:t.value},(0,X.v_)(t.name),9,$)))),128))],40,x)}var I={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(t){this.$emit("update:modelValue",t.target.value)}}};const M=(0,d.A)(I,[["render",j]]);var W=M,D=[k,S,O,W];function Q(t,e,o,s,n,r){return(0,a.uX)(),(0,a.CE)("div",null,e[0]||(e[0]=[(0,a.Lk)("h1",null,"Это приложение было создано в процессе обучения на канале Ulbi TV",-1)]))}var U={};const R=(0,d.A)(U,[["render",Q]]);var T=R;function K(t,e,o,s,n,r){const i=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",null,[e[2]||(e[2]=(0,a.Lk)("h1",null,"ИЗУЧАЮ VUE 3",-1)),(0,a.bF)(i,{to:"posts"},{default:(0,a.k6)((()=>e[0]||(e[0]=[(0,a.eW)(" Посты ")]))),_:1}),(0,a.bF)(i,{to:"about"},{default:(0,a.k6)((()=>e[1]||(e[1]=[(0,a.eW)(" О сайте ")]))),_:1})])}var N={};const q=(0,d.A)(N,[["render",K]]);var G=q;function B(t,e,o,s,n,r){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("h1",null,"Это страница поста с ид = "+(0,X.v_)(t.$route.params.id),1)])}var H={};const Y=(0,d.A)(H,[["render",B]]);var z=Y;const J={class:"app_btn"},Z={key:1},tt={class:"observer"};function et(t,e,o,s,n,r){const i=(0,a.g2)("my-button"),l=(0,a.g2)("post-form"),u=(0,a.g2)("my-dialog"),c=(0,a.g2)("post-list"),d=(0,a.gN)("intersection");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",J,[(0,a.bF)(i,{onClick:r.showDialog},{default:(0,a.k6)((()=>e[1]||(e[1]=[(0,a.eW)(" Создать ")]))),_:1},8,["onClick"])]),(0,a.bF)(u,{show:n.dialogVisible,"onUpdate:show":e[0]||(e[0]=t=>n.dialogVisible=t)},{default:(0,a.k6)((()=>[(0,a.bF)(l,{onCreate:r.createPost},null,8,["onCreate"])])),_:1},8,["show"]),t.isPostsLoading?((0,a.uX)(),(0,a.CE)("div",Z," идет загрузка")):((0,a.uX)(),(0,a.Wv)(c,{key:0,posts:t.sortedAndSearchedPosts,onRemove:r.removePost},null,8,["posts","onRemove"])),(0,a.bo)((0,a.Lk)("div",tt,null,512),[[d,t.loadMorePosts]])],64)}o(2489);function ot(t,e,o,n,r,i){const l=(0,a.g2)("my-input"),u=(0,a.g2)("my-button");return(0,a.uX)(),(0,a.CE)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)((()=>{}),["prevent"]))},[(0,a.bF)(l,{modelValue:r.post.title,"onUpdate:modelValue":e[0]||(e[0]=t=>r.post.title=t),placeholder:"название",type:"text"},null,8,["modelValue"]),(0,a.bF)(l,{modelValue:r.post.body,"onUpdate:modelValue":e[1]||(e[1]=t=>r.post.body=t),placeholder:"описание",type:"text"},null,8,["modelValue"]),(0,a.bF)(u,{onClick:i.createPost,style:{"align-self":"flex-end","margin-top":"10px"}},{default:(0,a.k6)((()=>e[3]||(e[3]=[(0,a.eW)("Создать")]))),_:1},8,["onClick"])],32)}var st={data(){return{post:{title:"",body:""}}},methods:{createPost(){this.post.id=Date.now(),this.$emit("create",this.post),this.post={title:"",body:""}}}};const at=(0,d.A)(st,[["render",ot],["__scopeId","data-v-decb5558"]]);var nt=at;const rt={key:0},it={key:1,style:{color:"red"}};function lt(t,e,o,n,r,i){const l=(0,a.g2)("post-item");return o.posts.length>0?((0,a.uX)(),(0,a.CE)("div",rt,[e[0]||(e[0]=(0,a.Lk)("h3",null,"Список пользователей",-1)),(0,a.bF)(s.F,{name:"user-list"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.posts,(e=>((0,a.uX)(),(0,a.Wv)(l,{post:e,key:e.id,onRemove:o=>t.$emit("remove",e)},null,8,["post","onRemove"])))),128))])),_:1})])):((0,a.uX)(),(0,a.CE)("h2",it," Список пользователей пуст "))}const ut={class:"post"},ct={class:"post__btns"};function dt(t,e,o,s,n,r){const i=(0,a.g2)("my-button");return(0,a.uX)(),(0,a.CE)("div",ut,[(0,a.Lk)("div",null,[(0,a.eW)((0,X.v_)(o.post.id)+" ",1),(0,a.Lk)("div",null,"Название: "+(0,X.v_)(o.post.title),1),(0,a.Lk)("div",null,"Описание: "+(0,X.v_)(o.post.body),1)]),(0,a.Lk)("div",ct,[(0,a.bF)(i,{onClick:e[0]||(e[0]=e=>t.$router.push(`/posts/${o.post.id}`))},{default:(0,a.k6)((()=>e[2]||(e[2]=[(0,a.eW)("Открыть")]))),_:1}),(0,a.bF)(i,{onClick:e[1]||(e[1]=e=>t.$emit("remove",o.post))},{default:(0,a.k6)((()=>e[3]||(e[3]=[(0,a.eW)("Удалить")]))),_:1})])])}var pt={props:{post:{type:Object,required:!0}}};const ht=(0,d.A)(pt,[["render",dt],["__scopeId","data-v-855af3e2"]]);var mt=ht,vt={components:{PostItem:mt},props:{posts:{type:Array,required:!0}}};const gt=(0,d.A)(vt,[["render",lt],["__scopeId","data-v-1dda18f3"]]);var ft=gt,bt=o(782),yt={components:{PostForm:nt,PostList:ft},data(){return{dialogVisible:!1}},methods:{...(0,bt.PY)({setPage:"post/setPage"}),...(0,bt.i0)({loadMorePosts:"post/loadMorePosts",fetchPosts:"post/fetchPosts"}),createPost(t){this.posts.push(t),this.dialogVisible=!1},removePost(t){this.posts=this.posts.filter((e=>e.id!==t.id))},showDialog(){this.dialogVisible=!0}},mounted(){},watch:{},computed:{...(0,bt.aH)({posts:t=>t.post.posts,isPostsLoading:t=>t.post.isPostsLoading,searchQuery:t=>t.post.searchQuery,selectedSort:t=>t.post.selectedSort,page:t=>t.post.page,totalPage:t=>t.post.totalPage,limitPost:t=>t.post.limitPost,sortOptions:t=>t.post.sortOptions}),...(0,bt.L8)({sortedPosts:"post/sortedPosts",sortedAndSearchedPosts:"post/sortedAndSearchedPosts "})}};const Pt=(0,d.A)(yt,[["render",et]]);var kt=Pt;const _t={class:"app_btn"},Ct={key:1},Lt={class:"observer"};function wt(t,e,o,s,n,r){const i=(0,a.g2)("my-input"),l=(0,a.g2)("my-button"),u=(0,a.g2)("my-select"),c=(0,a.g2)("post-form"),d=(0,a.g2)("my-dialog"),p=(0,a.g2)("post-list"),h=(0,a.gN)("intersection");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(i,{modelValue:n.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=t=>n.searchQuery=t),placeholder:"Поиск..."},null,8,["modelValue"]),(0,a.Lk)("div",_t,[(0,a.bF)(l,{onClick:r.showDialog},{default:(0,a.k6)((()=>e[3]||(e[3]=[(0,a.eW)(" Создать ")]))),_:1},8,["onClick"]),(0,a.bF)(u,{modelValue:n.selectedSort,"onUpdate:modelValue":e[1]||(e[1]=t=>n.selectedSort=t),options:n.sortOptions},null,8,["modelValue","options"])]),(0,a.bF)(d,{show:n.dialogVisible,"onUpdate:show":e[2]||(e[2]=t=>n.dialogVisible=t)},{default:(0,a.k6)((()=>[(0,a.bF)(c,{onCreate:r.createPost},null,8,["onCreate"])])),_:1},8,["show"]),n.isPostsLoading?((0,a.uX)(),(0,a.CE)("div",Ct," идет загрузка")):((0,a.uX)(),(0,a.Wv)(p,{key:0,posts:r.sortedAndSearchedPosts,onRemove:r.removePost},null,8,["posts","onRemove"])),(0,a.bo)((0,a.Lk)("div",Lt,null,512),[[h,r.loadMorePosts]])],64)}var St=o(4373),Vt={components:{PostForm:nt,PostList:ft},data(){return{posts:[],dialogVisible:!1,isPostsLoading:!1,searchQuery:"",selectedSort:"",page:1,totalPage:0,limitPost:10,sortOptions:[{value:"title",name:"по названию"},{value:"body",name:"по описанию"}]}},methods:{createPost(t){this.posts.push(t),this.dialogVisible=!1},removePost(t){this.posts=this.posts.filter((e=>e.id!==t.id))},showDialog(){this.dialogVisible=!0},async fetchPosts(){try{this.isPostsLoading=!0;const t=await St.A.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:this.page,_limit:this.limitPost}});this.totalPage=Math.ceil(t.headers["x-total-count"]/this.limitPost),this.posts=t.data}catch(t){alert("error")}finally{this.isPostsLoading=!1}},async loadMorePosts(){try{this.page+=1;const t=await St.A.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:this.page,_limit:this.limitPost}});this.totalPage=Math.ceil(t.headers["x-total-count"]/this.limitPost),this.posts=[...this.posts,...t.data]}catch(t){alert("error")}}},mounted(){this.fetchPosts()},watch:{},computed:{sortedPosts(){return[...this.posts].sort(((t,e)=>t[this.selectedSort]?.localeCompare(e[this.selectedSort])))},sortedAndSearchedPosts(){return this.sortedPosts.filter((t=>t.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}}};const Ft=(0,d.A)(Vt,[["render",wt]]);var Et=Ft,At=o(1387);const Ot=[{path:"/",component:G},{path:"/posts",component:Et},{path:"/about",component:T},{path:"/posts/:id",component:z},{path:"/store",component:kt}],Xt=(0,At.aE)({routes:Ot,history:(0,At.LA)("/")});var xt=Xt,$t={mounted(t){t.focus()},name:"focus"},jt={mounted(t,e){console.log(e);const o={root:document.querySelector("#scrollArea"),rootMargin:"0px",threshold:1},s=(t,o)=>{t[0].isIntersecting&&e.value()},a=new IntersectionObserver(s,o);a.observe(t)},name:"intersection"},It=[$t,jt];const Mt={state:()=>({posts:[],isPostsLoading:!1,searchQuery:"",selectedSort:"",page:1,totalPage:0,limitPost:10,sortOptions:[{value:"title",name:"по названию"},{value:"body",name:"по описанию"}]}),getters:{sortedPosts(t){return[...t.posts].sort(((e,o)=>e[t.selectedSort]?.localeCompare(o[t.selectedSort])))},sortedAndSearchedPosts(t,e){return e.sortedPosts.filter((e=>e.title.toLowerCase().includes(t.searchQuery.toLowerCase())))}},mutations:{setPosts(t,e){t.posts=e},setLoading(t,e){t.isPostsLoading=e},setPage(t,e){t.page=e},setSelectedSort(t,e){t.setSelectedSort=e},setTotalPages(t,e){t.totalPages=e},setSearchQuery(t,e){t.searchQuery=e}},actions:{async fetchPosts({state:t,commit:e}){try{e("setLoading",!0);const o=await axios.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:t.page,_limit:t.limitPost}});e("setTotalPages",Math.ceil(o.headers["x-total-count"]/t.limitPost)),e("setPosts",o.data)}catch(o){alert("error")}finally{e("setLoading",!1)}},async loadMorePosts(){try{commit("setPage",state.page+1);const t=await axios.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:state.page,_limit:state.limitPost}});commit("setTotalPages",Math.ceil(t.headers["x-total-count"]/state.limitPost)),commit("setPosts",[...state.posts,...t.data])}catch(t){alert("error")}}},namespaced:!0};var Wt=(0,bt.y$)({modules:{post:Mt}});const Dt=(0,s.Ef)(g);D.forEach((t=>{Dt.component(t.name,t)})),It.forEach((t=>{Dt.directive(t.name,t)})),Dt.use(Wt).use(xt).mount("#app")}},e={};function o(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,s,a,n){if(!s){var r=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],n=t[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(o.O).every((function(t){return o.O[t](s[l])}))?s.splice(l--,1):(i=!1,n<r&&(r=n));if(i){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,r=s[0],i=s[1],l=s[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var c=l(o)}for(e&&e(s);u<r.length;u++)n=r[u],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(c)},s=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(3758)}));s=o.O(s)})();
//# sourceMappingURL=app.038a2f22.js.map